<html>
<body>

<textarea name="in" id="in" rows="20" style="width:100%" maxlength="10000000"></textarea>
<button type="button" id="butt">gogogogogo</button>
<hr />

<textarea name="out" id="out" rows="20" style="width:100%"></textarea>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
  $('#butt').click(function() {
    let rp = {};
    //$.getJSON(contentURL, function(data) {
    let data = JSON.parse($('#in').val());
      rp.msgs = data.newMsgs.filter(function(msg) { return msg.Type !== "OOC"; });
      rp.charas = data.newCharas;

      //downloadURI("data:text/plain;charset=UTF-8,"
      //  + encodeURIComponent(JSON.stringify(rp, null, 2)), 'rp.json');
      $('#out').val(JSON.stringify(rp, null, 2));
    //});
  });
  function downloadURI(uri, name) {
    var link = document.createElement("a");
    link.download = name;
    link.href = uri;
    link.click();
  }
</script>

</body>
</html>